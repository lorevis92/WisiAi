{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { ElementRef } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/forms\";\nconst _c0 = [\"messageContainer\"];\n\nconst _c1 = function (a0, a1) {\n  return {\n    \"user-message\": a0,\n    \"assistant-message\": a1\n  };\n};\n\nfunction InterfacciaChatComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const message_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(2, _c1, message_r2.isUser, !message_r2.isUser));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", message_r2.text, \" \");\n  }\n}\n\nconst _c2 = function (a0) {\n  return {\n    \"background-color\": a0\n  };\n};\n\nexport let InterfacciaChatComponent = /*#__PURE__*/(() => {\n  class InterfacciaChatComponent {\n    constructor() {\n      this.messages = [];\n      this.userMessage = '';\n      this.assistant = {\n        name: 'Nome Assisistente',\n        image: \"https://tse4.mm.bing.net/th?id=OIP.1QoglBNXH70twznxEEt6sAHaD4&pid=Api&P=0&h=180\",\n        subtitle: 'Sottotitolo Assistente',\n        backgroundColor: '#2a97cf'\n      };\n    }\n\n    sendUserMessage() {\n      if (this.userMessage.trim() !== '') {\n        this.messages.push({\n          text: this.userMessage,\n          isUser: true\n        }); // Simuliamo una risposta automatica dell'assistente\n\n        this.messages.push({\n          text: 'Risposta automatica...',\n          isUser: false\n        });\n        this.userMessage = ''; // Resetta l'input dell'utente\n\n        this.scrollToBottom();\n      }\n    }\n\n    scrollToBottom() {\n      this.messageContainer.nativeElement.scrollTop = this.messageContainer.nativeElement.scrollHeight;\n    }\n\n  }\n\n  InterfacciaChatComponent.ɵfac = function InterfacciaChatComponent_Factory(t) {\n    return new (t || InterfacciaChatComponent)();\n  };\n\n  InterfacciaChatComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: InterfacciaChatComponent,\n    selectors: [[\"app-interfaccia-chat\"]],\n    viewQuery: function InterfacciaChatComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.messageContainer = _t.first);\n      }\n    },\n    inputs: {\n      assistant: \"assistant\"\n    },\n    standalone: true,\n    features: [i0.ɵɵStandaloneFeature],\n    decls: 15,\n    vars: 12,\n    consts: [[1, \"chat-container\"], [1, \"assistant-info\", 3, \"ngStyle\"], [3, \"src\", \"alt\"], [1, \"message-container\"], [\"messageContainer\", \"\"], [3, \"ngClass\", 4, \"ngFor\", \"ngForOf\"], [1, \"user-input\"], [\"placeholder\", \"Type your message...\", 3, \"ngModel\", \"ngModelChange\", \"keyup.enter\"], [3, \"ngStyle\", \"click\"], [3, \"ngClass\"]],\n    template: function InterfacciaChatComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n        i0.ɵɵelement(2, \"img\", 2);\n        i0.ɵɵelementStart(3, \"div\")(4, \"h3\");\n        i0.ɵɵtext(5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"p\");\n        i0.ɵɵtext(7);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(8, \"div\", 3, 4);\n        i0.ɵɵtemplate(10, InterfacciaChatComponent_div_10_Template, 2, 5, \"div\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"div\", 6)(12, \"input\", 7);\n        i0.ɵɵlistener(\"ngModelChange\", function InterfacciaChatComponent_Template_input_ngModelChange_12_listener($event) {\n          return ctx.userMessage = $event;\n        })(\"keyup.enter\", function InterfacciaChatComponent_Template_input_keyup_enter_12_listener() {\n          return ctx.sendUserMessage();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"button\", 8);\n        i0.ɵɵlistener(\"click\", function InterfacciaChatComponent_Template_button_click_13_listener() {\n          return ctx.sendUserMessage();\n        });\n        i0.ɵɵtext(14, \"Send\");\n        i0.ɵɵelementEnd()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(8, _c2, ctx.assistant.backgroundColor));\n        i0.ɵɵadvance(1);\n        i0.ɵɵpropertyInterpolate(\"src\", ctx.assistant.image, i0.ɵɵsanitizeUrl);\n        i0.ɵɵpropertyInterpolate(\"alt\", ctx.assistant.name);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(ctx.assistant.name);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.assistant.subtitle);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngForOf\", ctx.messages);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.userMessage);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(10, _c2, ctx.assistant.backgroundColor));\n      }\n    },\n    dependencies: [CommonModule, i1.NgClass, i1.NgForOf, i1.NgStyle, FormsModule, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgModel],\n    styles: [\"[_nghost-%COMP%]{display:block}.chat-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:400px;border:1px solid #ccc;height:520px;border-radius:8px}.assistant-info[_ngcontent-%COMP%]{padding:10px 10px 0;background-color:#2a97cf;top:0;display:flex;align-items:center}.assistant-info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;margin-bottom:10px;margin-right:10px;object-fit:cover}.message-container[_ngcontent-%COMP%]{padding-bottom:190px;overflow-y:auto;background-color:#fff}.user-message[_ngcontent-%COMP%], .assistant-message[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:10px;border-radius:8px;max-width:90%;margin-top:10px}.user-message[_ngcontent-%COMP%]{background-color:#e0f7fa;margin-left:auto}.user-input[_ngcontent-%COMP%]{background-color:#fff;display:flex;margin-top:10px;margin-left:10px;align-items:flex-end;position:fixed;bottom:60px}.chat-container.user-input-below-last-message[_ngcontent-%COMP%]   .user-input[_ngcontent-%COMP%]{margin-top:auto}.user-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;padding:10px;border-radius:8px;border:1px solid #ccc;width:300px}.user-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:75px;margin-left:5px;padding:10px;border-radius:8px;cursor:pointer;background-color:#2a97cf;color:#fff;border:none}\"],\n    changeDetection: 0\n  });\n  return InterfacciaChatComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}